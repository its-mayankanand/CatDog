events {}

http {
    server {
        listen 8080;

        # Root path → Serve welcome text directly
        location = / {
            default_type text/html;
            return 200 "<h1>Welcome to Proxy!</h1>";
        }

        # /cat → FastAPI cat endpoint
        location /cat {
            proxy_pass http://fastapi:8000/cat;
        }

        # /dog → FastAPI dog endpoint
        location /dog {
            proxy_pass http://fastapi:8000/dog;
        }

        # Any other path → fallback to /cat
        location / {
            proxy_pass http://fastapi:8000/cat;
        }
    }
}
